<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>验证码倒计时</title>
	</head>
	<body>
		<input id="btnSendCode" type="button" value="获取验证码" />
		<script type="text/javascript" src="js/jquery-2.1.0.js" ></script>
		<script>
		$(function(){
			var selector = $("#btnSendCode");
			Countdown(selector);
		})
		
		function Countdown(selector){
			var InterValObj; //timer变量，控制时间
			var count = 5; //间隔函数，1秒执行
			var curCount; //当前剩余秒数
			selector.on("click",function(){
				curCount = count;
				//设置button效果，开始计时
				selector.attr("disabled", "true");
				selector.val(+curCount + "秒再获取");
				InterValObj = window.setInterval(SetRemainTime, 1000); //启动计时器，1秒执行一次
			})
			//timer处理函数
			function SetRemainTime() {
				if (curCount == 0) {
					window.clearInterval(InterValObj); //停止计时器
					selector.removeAttr("disabled"); //启用按钮
					selector.val("重新发送");
				} else {
					curCount--;
					selector.val(+curCount + "秒再获取");
				}
			}
		}
		</script>
	</body>
</html>
